
public class primeSpiral {
	public static void main(String[] args) {
		int a[][] = new int[1000][1000];
		int k,n = 2, i = 498, j = 499;
		a[499][499] = 1;
		a[499][500] = 2;
		a[498][500] = 3;
		a[498][499] = 4;
		while (ratio(a,n,i,j) < 1/10) 
			if (n % 2 == 0) {
				j--;
				a[i][j] = a[i][j+1] + 1;
				for (k=0; k<n; k++) {
					i++;
					a[i][j] = a[i-1][j] + 1;
				}
				for (k=0; k<n; k++) {
					j++;
					a[i][j] = a[i][j-1] + 1;
				}
			}
			else {
				j++;
				a[i][j] = a[i][j-1] + 1;
				for (k=0; k<n; k++) {
					i--;
					a[i][j] = a[i+1][j] + 1;
				}
				for (k=0; k<n; k++){
					j--;
					a[i][j] = a[i][j+1] +1;
				}
			}
	}
	public static double ratio(int a[][], int n, int i, int j){
		int k, l, p=0;
		for (k=i, l=j; k<i+n; k++, l++) if (prime(a[k][l])) p++; 
		return p/(2*n-1);	
	}
	public static boolean prime(int a){
		int j=3, k=0;
		while (k == 0 && j < Math.sqrt(a)){
			if (a % j == 0) k++;
			else j += 2;
		}
		return (k == 0);
	}
}
